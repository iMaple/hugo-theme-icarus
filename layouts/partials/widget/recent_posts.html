{{ $widget := .Scratch.Get "widget" }}
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            {{ i18n "widget_recents" 1 }}
        </h3>
        {{ range first $widget.amount (where .Site.RegularPages.ByDate.Reverse "Section" "==" "posts") }}
            <article class="media">
                {{ if .Site.Params.article.thumbnail }}
                    <a class="media-left" href="{{ .Permalink }}">
                        <p class="image is-64x64">
                            <img class="thumbnail"
                                 src="{{ with .Params.thumbnail }}{{ . }}{{ else }}{{ "img/thumbnail.svg" | relURL }}{{ end }}"
                                 alt="{{ .Title }}">
                        </p>
                    </a>
                {{ end }}
                <div class="media-content">
                    <div class="content">
                        <div>
                            <time class="has-text-grey is-size-7 is-uppercase"
                                  datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">{{ .Date.Format "2006-01-02" }}</time>
                        </div>
                        <a class="title has-link-black-ter is-size-6 has-text-weight-normal"
                           href="{{ .Permalink }}">{{ .LinkTitle }}</a>
                        <p class="is-size-7 is-uppercase">
                            {{ $categories := index .Params.categories 0 }}
                            <a class="has-link-grey" href="/categories/{{ $categories }}">{{ $categories }}</a>
                        </p>
                    </div>
                </div>
            </article>
        {{ end }}
    </div>
</div>
