<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            {{ i18n "widget_tag_cloud" }}
        </h3>
        <!-- Todo -->
        {{ $tags := .Site.Taxonomies.tags }}
        {{ if gt (len $tags) 0 }}
            {{ $maxSize := 2.0 }}
            {{ $minSize := 1.0 }}
            {{ $sizeSpread := (sub $maxSize $minSize) }}

            {{ $maxCount := (index $tags.ByCount 0).Count }}
            {{ $minCount := (index $tags.ByCount.Reverse 0).Count }}
            {{ $countSpread := (sub $maxCount $minCount) }}

            {{ $sizeStep := 0 }}
            {{ if gt $countSpread 0 }}
                {{ $sizeStep = (div $sizeSpread $countSpread) }}
            {{ end }}
            {{ range $tags.Alphabetical }}
                {{ $count := .Count }}
                {{ $size := (add $minSize (mul $sizeStep (sub $count $minCount))) }}
                <a href="/tags/{{ .Term }}/" style='font-size:{{ $size }}em'>{{ .Term }}</a>
            {{ end }}
        {{ end }}
    </div>
</div>
